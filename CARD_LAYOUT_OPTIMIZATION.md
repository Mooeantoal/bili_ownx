# 搜索卡片布局优化

## 🎯 优化目标

参考 bili_you 在设置中字体缩放倍数为 0.75 时的效果，优化搜索结果卡片的尺寸和字号，提升信息呈现效率。

## 📏 布局尺寸调整

### 卡片整体尺寸
- **高度**: 100px → 90px (-10%)
- **边距**: `horizontal: 16, vertical: 6` → `horizontal: 12, vertical: 2`
- **圆角**: BorderRadius.circular(12) → BorderRadius.circular(8)

### 封面图尺寸
- **宽度**: 160px → 120px (-25%)
- **高度**: 100px → 90px (-10%)
- **圆角**: BorderRadius.circular(8) → BorderRadius.circular(4)

### 内部间距
- **封面与信息间距**: 12px → 8px
- **标题与UP主间距**: 6px → 3px
- **统计项间距**: 8px → 6px

## 🔤 字体尺寸调整

参考 bili_you 0.75倍缩放标准：

### 文本字号
- **标题**: 16px → 13px (-19%)
- **UP主**: 12px → 11px (-8%)
- **统计信息**: 11px → 10px (-9%)

### 图标尺寸
- **统计图标**: 12px → 10px (-17%)
- **操作按钮图标**: 20px → 16px (-20%)
- **更多操作图标**: 20px → 16px (-20%)

### 按钮区域
- **最小尺寸**: 36×36 → 28×28
- **内边距**: EdgeInsets.all(8) → EdgeInsets.all(4)

## 📐 布局优化

### 统计信息重构
**优化前** (Wrap布局):
```
👁125万 💬8.5k 👍4.5万 ⏰7天前 📹BV1uH...
```

**优化后** (Row布局，优先显示):
```
👁125万 💬8.5k ⏰7天前
```

- 改为单行显示，减少垂直空间占用
- 优先显示播放量、弹幕数、发布时间
- 移除视频ID显示以节省空间

### 时长标签优化
- **位置**: `bottom: 4, right: 4` → `bottom: 2, right: 2`
- **内边距**: `horizontal: 4, vertical: 2` → `horizontal: 3, vertical: 1`
- **圆角**: BorderRadius.circular(4) → BorderRadius.circular(2)
- **字号**: 10px → 9px
- **不透明度**: 0.7 → 0.8 (提高可读性)

## 📊 信息密度对比

| 项目 | 优化前 | 优化后 | 改善 |
|------|--------|--------|------|
| 卡片高度 | 100px | 90px | ✅ 更紧凑 |
| 封面宽度 | 160px | 120px | ✅ 节省空间 |
| 标题字号 | 16px | 13px | ✅ 精致简洁 |
| 行数 | 2-3行统计 | 1行统计 | ✅ 信息集中 |
| 视觉权重 | 偏重 | 平衡 | ✅ 舒适度提升 |

## 🎨 视觉效果对比

### 信息呈现效率
- **优化前**: 信息分散，视觉重点不突出
- **优化后**: 信息集中，关键数据一目了然

### 视觉舒适度
- **优化前**: 字号偏大，显得臃肿
- **优化后**: 字号适中，简洁精致

### 空间利用率
- **优化前**: 间距过大，浪费空间
- **优化后**: 紧凑高效，充分利用空间

## 📱 响应式设计

### 小屏设备优化
- 减小的卡片尺寸更适合小屏幕
- 紧凑的布局显示更多内容

### 大屏设备体验
- 保持良好的视觉比例
- 信息密度适中，不会过于拥挤

## 🔧 实现细节

### 关键代码修改

1. **卡片容器尺寸**
```dart
Container(
  height: 90, // 减小高度
  margin: const EdgeInsets.symmetric(horizontal: 12, vertical: 2), // 减小边距
)
```

2. **封面图尺寸**
```dart
SizedBox(
  width: 120,  // 减小宽度
  height: 90,  // 匹配容器高度
)
```

3. **文本样式**
```dart
style: Theme.of(context).textTheme.bodyMedium?.copyWith(
  fontSize: 13,  // 0.75倍缩放
  fontWeight: FontWeight.normal,
  height: 1.2,
),
```

4. **统计信息布局**
```dart
Row(  // 改为Row布局，单行显示
  children: [
    _buildStatItem(...),
    const SizedBox(width: 6),
    _buildStatItem(...),
  ],
)
```

## 🎯 优化效果

### 信息获取效率
- ✅ 同屏显示更多视频 (约提升15%)
- ✅ 关键信息更易识别
- ✅ 视觉扫描路径更短

### 用户体验
- ✅ 减少滚动操作
- ✅ 降低视觉疲劳
- ✅ 保持良好可读性

### 性能优化
- ✅ 减小渲染区域
- ✅ 优化布局计算
- ✅ 提升滚动流畅度

## 📋 使用建议

1. **查看效果**: 访问搜索页面右上角"📊卡片对比"按钮
2. **调整偏好**: 可根据需要进一步调整字号
3. **适配测试**: 在不同屏幕尺寸下测试效果

---

**优化完成时间**: 2025-12-09  
**参考标准**: bili_you 0.75倍字体缩放  
**影响范围**: 卡片布局、字体大小、信息密度 ✅